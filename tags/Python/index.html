<html>

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="">
    <meta name="author" content="Domuki">
    <link rel="icon" href="favicon/favicon.ico">

    <title>Blog Template for Bootstrap</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-83746351-2', 'auto');
        ga('send', 'pageview');

    </script>


<meta name="generator" content="Hexo 5.4.0"></head>


<body>

  <!-- Menu -->
  <nav class="navbar navbar-expand-sm bg-dark navbar-dark" aria-label="Eighth navbar example">
  <div class="container">
    <a target="_blank" rel="noopener" href="https://github.com/Domuki-main" class="navbar-brand d-flex align-items-center">
      <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
        <path
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" />
      </svg>
      <strong>&nbsp;Domuki</strong>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsCollapse" aria-controls="navbarsCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsCollapse">

      <ul class="navbar-nav" style="margin-inline-end: auto;">
        
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="/archives">Archives</a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="/tags">Tags</a>
        </li>
        
      </ul>

      <form class="form-group d-flex mb-0">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-light" type="submit"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
          </svg></button>
      </form>

    </div>
  </div>
</nav>


  <!-- Blog Header: title and subtitle -->
  <section class="py-5 bg-light container-fluid shadow-sm">
  <div class="row py-lg-5">
    <div class="col-lg-6 col-md-8 mx-auto">
      <h1 class="display-4">Domuki&#39;s Website</h1>
      <p class="lead">This is Domuki&#39;s personal website. Hope you can find something what you are interested in here.</p>
      <hr class="my-4">
      <p>
        <a href="mailto:domukino@gmail.com" class="btn btn-primary my-2">Email Me</a>
        <a target="_blank" rel="noopener" href="https://instagram.com/domuki.ins?igshid=ymc1942vcwfi" class="btn btn-dark my-2">
          Visit My Social Media App
        </a>
      </p>
    </div>
  </div>
</section>


  <main>

    <div class="container py-5">

          
    <div class="container mb-4 rounded shadow">

  <div class="card-body">
    <!-- Title -->
    <h1 class="card-title">
      Urllib in Python
    </h1>

    <!-- Date and Author(item.author) -->
    <p class="card-text">
      2020-10-09
      
      by <a href="/">Domuki</a>
      
    </p>

    <p class="card-text">
      <!-- Content -->
      <span id="more"></span>

<h2><span id="introduction">Introduction</span></h2><h3><span id="what-is-urllib">What is Urllib?</span></h3><blockquote>
<p><code>urllib</code> is a package that collects several modules for working with URLs</p>
</blockquote>
<p>This package has 4 modules: <code>urllib.request</code>, <code>urllib.error</code>, <code>urllib.parse</code> and <code>urllib.robotparser</code>.</p>
<ul>
<li><code>urllib.request</code> for opening and reading URLs</li>
<li><code>urllib.error</code> containing the exceptions raised by <code>urllib.request</code></li>
<li><code>urllib.parse</code> for parsing URLs</li>
<li><code>urllib.robotparser</code> for parsing <code>robots.txt</code> files</li>
</ul>
<p><code>urllib.request</code> and <code>urllib.error</code> are usually used in Web crawler program.</p>
<h2><span id="send-request">Send Request</span></h2><p>We need <code>urllib.request</code> when sending a HTTP request as the Chrome. It can be used not only to send requests but also to gain the return. Just <code>urllopen()</code> alone can help us to do the work. This is the API.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">urllib.request.urlopen(url, data&#x3D;None, [timeout, ]*, cafile&#x3D;None, capath&#x3D;None, cadefault&#x3D;False, context&#x3D;None)</span><br></pre></td></tr></table></figure>

<p>the parameters:</p>
<ol>
<li>string type: URL address</li>
<li><code>data</code> is the content in bytes type. It can be converted into a byte stream by the bytes() function. It is also an optional parameter. Using the data parameter, the request method becomes a POST method to submit the form. The standard format used is <code>application/x-www-form-urlencoded</code></li>
<li><code>timeout</code> is Request timeout in second.</li>
<li><code>cafile</code> and <code>capath</code> represents the CA certificate and the path of the CA certificate. You need to use HTTPS.</li>
<li><code>context</code> must be <code>ssl.SSLContext</code> type, which is used to set <code>ssl</code></li>
<li> <code>cedefault</code> are abandoned</li>
</ol>
<p>The method will return a object of <code>http.client.HTTPResponse</code></p>
<h3><span id="simply-grabbing-website">simply grabbing website</span></h3><p>We can use <code>urllib.request.urllopen()</code> to request my blog site and grab the source code of the page.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://domuki.top&quot;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  response = urllib.request.urlopen(url)</span><br><span class="line">  html = response.read()		<span class="comment"># get the source code of page</span></span><br><span class="line">  print(html.decode(<span class="string">&#x27;utf-8&#x27;</span>))	<span class="comment"># transform to utf-8</span></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">  print(<span class="string">&quot;request failed&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3><span id="setting-request-timeout">Setting request Timeout</span></h3><p>Some requests cannot be replied, which may be caused by network problem. Therefore, we can set timeout for our requests. We can abandon the requests we sent or send it one more time, if it times out. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = urllib.request.urlopen(url, timeout=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h3><span id="using-data-parameter-to-submit-data">Using Data parameter to submit data</span></h3><p>We need to use data parameter when requesting some websites requiring it.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urilib.parse</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://127.0.0.1:8000&quot;</span></span><br><span class="line">params = &#123;</span><br><span class="line">  <span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;Alex&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;matric&#x27;</span>:<span class="string">&#x27;991204&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data = <span class="built_in">bytes</span>(urllib.parse.urlencode(params), encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">response = urllib.request.urlopen(url, data=data)</span><br><span class="line">print(response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>variable <code>params</code> is a dictionary actually, so we need <code>urllib.parse.urlencode()</code> help us to transform it to Strings. Then, use <code>bytes()</code> to convert it to a byte stream. Finally, use <code>urlopen()</code> to initiate a request that simulates the submission of form data in POST.</p>
<h3><span id="using-request">Using Request</span></h3><p>Request Constructor: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">urllib.request.Request(url, data&#x3D;None, headers&#x3D;&#123;&#125;, origin_req_host&#x3D;None, unverifiable&#x3D;False, method&#x3D;None)</span><br></pre></td></tr></table></figure>

<p><code>url</code>: address link</p>
<p><code>data</code>: its usage is same as <code>data</code>  in <code>urlopen()</code></p>
<p><code>headers</code>: should be a dictionary, and will be treated as if <code>add_header()</code> was called with each key and value as arguments.</p>
<p><code>origin_req_host</code>: the host name and IP address of Requestor</p>
<p><code>unverifiable</code>: showing whether this request cannot be verified and it’s false by default. If we, for example, request for images in HTML but we don’t have the permission to do that automatically, so we have to turn the value True.</p>
<p><code>method</code>: the ways of sending HTTP requests, such as GET, POST, DELETE, PUT and so on.</p>
<h4><span id="simply-using">Simply using</span></h4><p>Use <code>Request</code> to send a HTTP requests as browser. If the <code>User-Agent</code> in the <code>headers</code> is not set, the <code>User-Agent</code> is <code>Python-urllib/3.5</code> by default. Some websites may reject the request, if your requests is not send as browser. The <code>User-Agent</code> I use is the Chrome.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://tieba.baidu.com/&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">request = urllib.request.Request(url=url, headers=headers)</span><br><span class="line">response = urllib.request.urlopen(request)</span><br><span class="line">print(response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h5><span id="looking-for-the-latest-chrome-user-agent">Looking for the latest Chrome user agent?</span></h5><p>Check this out:  <a target="_blank" rel="noopener" href="https://www.whatismybrowser.com/guides/the-latest-user-agent/chrome">latest Chrome User agent</a> </p>
<h4><span id="advanced-using">Advanced using</span></h4><p>If we need to add a proxy to the request and process the <strong>cookies</strong> of the request, we need to use <code>Handler</code> and <code>OpenerDirector</code>.</p>
<h3><span id="using-proxy">Using proxy</span></h3><p>Some websites set the limitation of viewing frequency. So if we request the websites highly frequently, the websites will ban our IP. Therefore, we need:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://domuki.top/&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">proxy_handler = urllib.request.ProxyHandler(&#123;</span><br><span class="line">    <span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;web-proxy.oa.com:8080&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;https&#x27;</span>: <span class="string">&#x27;web-proxy.oa.com:8080&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line">opener = urllib.request.build_opener(proxy_handler)</span><br><span class="line">urllib.request.install_opener(opener)</span><br><span class="line"></span><br><span class="line">request = urllib.request.Request(url=url, headers=headers)</span><br><span class="line">response = urllib.request.urlopen(request)</span><br><span class="line">print(response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3><span id="login">Login</span></h3><p>Some websites can be visited as long as we login it with correct username and password. When we meet this situation, we need use <code>HTTPPasswordMgrWithDefaultRealm()</code> to instantiate an object to manage account. Use <code>add_password()</code> add account and password. Then use <code>HTTPBasicAuthHandler()</code> to get hander. And get the opener object by <code>build_opener()</code>. Finally, use <code>open()</code> to send requests.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://▯▯▯▯▯.com/&quot;</span></span><br><span class="line">user = <span class="string">&#x27;user&#x27;</span>			<span class="comment"># username</span></span><br><span class="line">password = <span class="string">&#x27;password&#x27;</span>	<span class="comment"># password</span></span><br><span class="line">pwdmgr = urllib.request.HTTPPasswordMgrWithDefaultRealm()</span><br><span class="line">pwdmgr.add_password(<span class="literal">None</span>，url ，user ，password)</span><br><span class="line"></span><br><span class="line">auth_handler = urllib.request.HTTPBasicAuthHandler(pwdmgr)</span><br><span class="line">opener = urllib.request.build_opener(auth_handler)</span><br><span class="line">response = opener.<span class="built_in">open</span>(url)</span><br><span class="line">print(response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3><span id="setting-cookies">Setting Cookies</span></h3><p>If we need login every time we requesting, we can use cookies to do it automatically. </p>
<p>To obtain cookies, you need to use <code>http.cookiejar.CookieJar()</code> to instantiate a Cookies . Then use <code>urllib.request.HTTPCookieProcessor</code> to construct a handler object. Finally, use the <code>open()</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> http.cookiejar</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://tieba.baidu.com/&quot;</span></span><br><span class="line">fileName = <span class="string">&#x27;cookie.txt&#x27;</span></span><br><span class="line"></span><br><span class="line">cookie = http.cookiejar.CookieJar()</span><br><span class="line">handler = urllib.request.HTTPCookieProcessor(cookie)</span><br><span class="line">opener = urllib.request.build_opener(handler)</span><br><span class="line">response = opener.<span class="built_in">open</span>(url)</span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(fileName,<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> cookie:</span><br><span class="line">    f.write(item.name+<span class="string">&quot; = &quot;</span>+item.value+<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>


    </p>
    <!-- Only display the Read More link if we are displaying an excerpt -->
    

  </div>

</div>


    <div class="container mb-4 rounded shadow">

  <div class="card-body">
    <!-- Title -->
    <h1 class="card-title">
      PracticalAI Note 4: Pandas
    </h1>

    <!-- Date and Author(item.author) -->
    <p class="card-text">
      2020-10-09
      
      by <a href="/">Domuki</a>
      
    </p>

    <p class="card-text">
      <!-- Content -->
      <blockquote>
<p>In this section, we’ll talk about the basics of data analysis with the Python Pandas library.</p>
</blockquote>
    </p>
    <!-- Only display the Read More link if we are displaying an excerpt -->
    
    <p>
      <a class="btn btn-outline-secondary" type="button" href="/2020/10/09/PracticalAI-Note-4-Pandas/">
        View this article
      </a>
    </p>
    

  </div>

</div>


    <div class="container mb-4 rounded shadow">

  <div class="card-body">
    <!-- Title -->
    <h1 class="card-title">
      PracticalAI Note 3: NumPy
    </h1>

    <!-- Date and Author(item.author) -->
    <p class="card-text">
      2020-10-08
      
      by <a href="/">Domuki</a>
      
    </p>

    <p class="card-text">
      <!-- Content -->
      <blockquote>
<p>the basics of numerical analysis using the NumPy package.</p>
</blockquote>
    </p>
    <!-- Only display the Read More link if we are displaying an excerpt -->
    
    <p>
      <a class="btn btn-outline-secondary" type="button" href="/2020/10/08/PracticalAI-Note-3-NumPy/">
        View this article
      </a>
    </p>
    

  </div>

</div>


    <div class="container mb-4 rounded shadow">

  <div class="card-body">
    <!-- Title -->
    <h1 class="card-title">
      PracticalAI Notes 1: The Notebooks
    </h1>

    <!-- Date and Author(item.author) -->
    <p class="card-text">
      2020-10-07
      
      by <a href="/">Domuki</a>
      
    </p>

    <p class="card-text">
      <!-- Content -->
      <h4 id="Introduction-of-PracticalAI"><a href="#Introduction-of-PracticalAI" class="headerlink" title="Introduction of PracticalAI"></a>Introduction of <em>PracticalAI</em></h4><p><em>PracticalAI</em> is a totally free project or tutorial based on Google Cloud of deep learning  on GitHub platform.</p>
    </p>
    <!-- Only display the Read More link if we are displaying an excerpt -->
    
    <p>
      <a class="btn btn-outline-secondary" type="button" href="/2020/10/07/PracticalAI-Notes-1-The-Notebooks/">
        View this article
      </a>
    </p>
    

  </div>

</div>


    <div class="container mb-4 rounded shadow">

  <div class="card-body">
    <!-- Title -->
    <h1 class="card-title">
      PracticalAI Notes 2: Basic Python
    </h1>

    <!-- Date and Author(item.author) -->
    <p class="card-text">
      2020-10-07
      
      by <a href="/">Domuki</a>
      
    </p>

    <p class="card-text">
      <!-- Content -->
      <p>Huh…, just some basic things. If you already know how to code with Python, just skip this section.</p>
    </p>
    <!-- Only display the Read More link if we are displaying an excerpt -->
    
    <p>
      <a class="btn btn-outline-secondary" type="button" href="/2020/10/07/PracticalAI-Notes-2-Basic-Python/">
        View this article
      </a>
    </p>
    

  </div>

</div>


    <div class="container mb-4 rounded shadow">

  <div class="card-body">
    <!-- Title -->
    <h1 class="card-title">
      How to make your own Voice Assistant
    </h1>

    <!-- Date and Author(item.author) -->
    <p class="card-text">
      2020-09-18
      
      by <a href="/">Domuki</a>
      
    </p>

    <p class="card-text">
      <!-- Content -->
      <span id="more"></span>

<h2><span id="preparation">Preparation</span></h2><p>Firstly, I have to introduce the version of the items although it seems not important for your coding. However, you’d better to refer the list below to download these packages in order to reduce the trouble that you will meet during coding time.</p>
<ol>
<li>the <strong>python</strong> version I recommend is <strong>3.6.0</strong></li>
<li>ChatterBot   0.7.4</li>
<li>chatterbot-corpus   1.0.1</li>
<li>pyttsx3   2.9</li>
<li>SpeechRecognition   3.8.1</li>
<li>playsound   1.2.2</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip3 install pyttsx3</span><br><span class="line">pip3 install SpeechRecognition&#x3D;&#x3D;3.8.1</span><br><span class="line">pip3 install playsound&#x3D;&#x3D;1.2.2</span><br></pre></td></tr></table></figure>

<h2><span id="the-imports-and-their-usages">The imports and their usages</span></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pyttsx3                  <span class="comment"># speaking program</span></span><br><span class="line"><span class="keyword">import</span> datetime                 <span class="comment"># time machine</span></span><br><span class="line"><span class="keyword">import</span> speech_recognition <span class="keyword">as</span> sr <span class="comment"># speech_recognition </span></span><br><span class="line"><span class="keyword">import</span> wikipedia				<span class="comment"># for search something</span></span><br><span class="line"><span class="keyword">import</span> random					<span class="comment"># random</span></span><br><span class="line"><span class="keyword">import</span> webbrowser				<span class="comment"># operation of browser</span></span><br><span class="line"><span class="keyword">import</span> os						<span class="comment"># os</span></span><br><span class="line"><span class="keyword">from</span> playsound <span class="keyword">import</span> playsound	<span class="comment"># play sounds</span></span><br><span class="line"><span class="keyword">from</span> chatterbot <span class="keyword">import</span> ChatBot	<span class="comment"># the chatting bot</span></span><br><span class="line"><span class="keyword">from</span> chatterbot.trainers <span class="keyword">import</span> ChatterBotCorpusTrainer</span><br></pre></td></tr></table></figure>

<h2><span id="initialization">Initialization</span></h2><p>bot:</p>
<p>in this ChatBot constructor, there are 3 parameters:</p>
<p> <code>Alpha</code> name of the bot, </p>
<p><code>storage_adapter</code>  ChatterBot comes with built in adapter classes that allow it to connect to different types of databases. In this code, I used the SQLStorageAdapter which allows the chat bot to connect to SQL databases. By default, this adapter will create a SQLite database in the folder storing main.py.</p>
<p><code>logic_adapters</code> parameter is a list of logic adapters. In ChatterBot, a logic adapter is a class that takes an input statement and returns a response to that statement.</p>
<p><code>database_uri</code>  parameter is used to specify the path to the database that the chat bot will use.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bot = ChatBot(</span><br><span class="line">        <span class="string">&#x27;Alpha&#x27;</span>,</span><br><span class="line">        storage_adapter=<span class="string">&#x27;chatterbot.storage.SQLStorageAdapter&#x27;</span>,</span><br><span class="line">        logic_adapters=[</span><br><span class="line">            <span class="string">&#x27;chatterbot.logic.MathematicalEvaluation&#x27;</span>,</span><br><span class="line">            <span class="comment">#&#x27;chatterbot.logic.TimeLogicAdapter&#x27;,</span></span><br><span class="line">            <span class="string">&#x27;chatterbot.logic.BestMatch&#x27;</span></span><br><span class="line">        ],</span><br><span class="line">        database_uri=<span class="string">&#x27;sqlite:///database.db&#x27;</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>pyttsx3:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">engine = pyttsx3.init()</span><br><span class="line">engine.setProperty(<span class="string">&#x27;rate&#x27;</span>, <span class="number">200</span>)    <span class="comment"># Speed percent (can go over 100)</span></span><br><span class="line">engine.setProperty(<span class="string">&#x27;volume&#x27;</span>, <span class="number">1</span>)  <span class="comment"># Volume only 0-1</span></span><br></pre></td></tr></table></figure>

<h2><span id="basic-functions">Basic Functions</span></h2><p>speak():</p>
<p>The function of speaking is using for read the information(str type) from bot response.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">speak</span>(<span class="params">audio</span>):</span>               <span class="comment"># the function of machine speaking controlling</span></span><br><span class="line">    <span class="string">&quot;speak function&quot;</span></span><br><span class="line">    print(audio)</span><br><span class="line">    engine.say(audio)</span><br><span class="line">    engine.runAndWait()</span><br></pre></td></tr></table></figure>

<p>takeCmd():</p>
<p>The function of taking commands from user. it will record your audio by the microphone and transform audio into string, so please make sure that your microphone is working.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">takeCmd</span>():</span>              <span class="comment"># get the commands from users</span></span><br><span class="line">    r = sr.Recognizer()</span><br><span class="line">    <span class="keyword">with</span> sr.Microphone() <span class="keyword">as</span> source:</span><br><span class="line">        r.adjust_for_ambient_noise(source)</span><br><span class="line">        audio = r.listen(source)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        command = r.recognize_google(audio, language = <span class="string">&quot;en&quot;</span>)</span><br><span class="line">        print(command)</span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line">        command = takeCmd()	<span class="comment"># if failed then do again</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> command</span><br></pre></td></tr></table></figure>

<p>analyzeCmd():</p>
<p>This function will receive the string transformed by takeCmd() and analyse the order.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def analyzeCmd(command):</span><br><span class="line">    global KEEPING_ORDER</span><br><span class="line">    command &#x3D; command.lower()</span><br><span class="line">    print(command)</span><br><span class="line">    if &quot;open google&quot; in command:</span><br><span class="line">        openBrowser()</span><br><span class="line"></span><br><span class="line">    elif &quot;shut down&quot; in command:</span><br><span class="line">        speak(&quot;good bye sir&quot;)</span><br><span class="line">        os._exit(0)</span><br><span class="line"></span><br><span class="line">    else:</span><br><span class="line">        chatData(command)</span><br></pre></td></tr></table></figure>

<p>chatData():</p>
<p>The function uses chatterbot for chat responding.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chatData</span>(<span class="params">command</span>):</span></span><br><span class="line">    </span><br><span class="line">    print(<span class="string">&#x27;Chatbot is ready&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    user_input = command</span><br><span class="line"></span><br><span class="line">    bot_response = bot.get_response(user_input)</span><br><span class="line"></span><br><span class="line">    speak(bot_response)</span><br></pre></td></tr></table></figure>

<h2><span id="source-code">Source Code</span></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pyttsx3                  <span class="comment"># speaking program</span></span><br><span class="line"><span class="keyword">import</span> datetime                 <span class="comment"># time machine</span></span><br><span class="line"><span class="keyword">import</span> speech_recognition <span class="keyword">as</span> sr <span class="comment"># speech_recognition </span></span><br><span class="line"><span class="keyword">import</span> wikipedia</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> playsound <span class="keyword">import</span> playsound</span><br><span class="line"><span class="keyword">from</span> chatterbot <span class="keyword">import</span> ChatBot</span><br><span class="line"><span class="keyword">from</span> chatterbot.trainers <span class="keyword">import</span> ChatterBotCorpusTrainer</span><br><span class="line"></span><br><span class="line">KEEPING_ORDER = <span class="literal">False</span></span><br><span class="line">bot = ChatBot(</span><br><span class="line">        <span class="string">&#x27;Alpha&#x27;</span>,</span><br><span class="line">        storage_adapter=<span class="string">&#x27;chatterbot.storage.SQLStorageAdapter&#x27;</span>,</span><br><span class="line">        logic_adapters=[</span><br><span class="line">            <span class="string">&#x27;chatterbot.logic.MathematicalEvaluation&#x27;</span>,</span><br><span class="line">            <span class="comment">#&#x27;chatterbot.logic.TimeLogicAdapter&#x27;,</span></span><br><span class="line">            <span class="string">&#x27;chatterbot.logic.BestMatch&#x27;</span></span><br><span class="line">        ],</span><br><span class="line">        database_uri=<span class="string">&#x27;sqlite:///database.db&#x27;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">engine = pyttsx3.init()</span><br><span class="line">engine.setProperty(<span class="string">&#x27;rate&#x27;</span>, <span class="number">200</span>)    <span class="comment"># Speed percent (can go over 100)</span></span><br><span class="line">engine.setProperty(<span class="string">&#x27;volume&#x27;</span>, <span class="number">1</span>)  <span class="comment"># Volume 0-1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">speak</span>(<span class="params">audio</span>):</span>               <span class="comment"># the function of machine speaking controlling</span></span><br><span class="line">    <span class="string">&quot;speak function&quot;</span></span><br><span class="line">    print(audio)</span><br><span class="line">    engine.say(audio)</span><br><span class="line">    engine.runAndWait()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">time</span>():</span>                     <span class="comment"># get current time</span></span><br><span class="line">    <span class="string">&quot;time function&quot;</span></span><br><span class="line">    Time = datetime.datetime.now().strftime(<span class="string">&quot;%I:%M:%S&quot;</span>)</span><br><span class="line">    speak(<span class="string">&quot;The current time is&quot;</span>)</span><br><span class="line">    speak(Time)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">date</span>():</span>                     <span class="comment"># get date</span></span><br><span class="line">    <span class="string">&quot;date function&quot;</span></span><br><span class="line">    year = <span class="built_in">int</span>(datetime.datetime.now().year)    <span class="comment"># get year in int format</span></span><br><span class="line">    month = <span class="built_in">int</span>(datetime.datetime.now().month)  <span class="comment"># get month in int format</span></span><br><span class="line">    day = <span class="built_in">int</span>(datetime.datetime.now().day)      <span class="comment"># get day in int format</span></span><br><span class="line">    speak(<span class="string">&quot;The current date is&quot;</span>)</span><br><span class="line">    speak(day)</span><br><span class="line">    speak(month)</span><br><span class="line">    speak(year)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wishme</span>():</span>                   <span class="comment"># the greetings at begining</span></span><br><span class="line">    hour()</span><br><span class="line">    speak(<span class="string">&quot;Welcome back!&quot;</span>)</span><br><span class="line">    speak(<span class="string">&quot;Alpha-2 at your service. Please tell me how can I help you?&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hour</span>():</span>                     <span class="comment"># judgement of greetings</span></span><br><span class="line">    Hour = datetime.datetime.now().hour</span><br><span class="line">    <span class="keyword">if</span> Hour &gt;= <span class="number">6</span> <span class="keyword">and</span> Hour &lt; <span class="number">12</span>:</span><br><span class="line">        speak(<span class="string">&quot;good morning sir!&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> Hour &gt;= <span class="number">12</span> <span class="keyword">and</span> Hour &lt; <span class="number">18</span>:</span><br><span class="line">        speak(<span class="string">&quot;good afternoon sir!&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> Hour &gt;= <span class="number">18</span> <span class="keyword">and</span> Hour &lt; <span class="number">20</span>:</span><br><span class="line">        speak(<span class="string">&quot;good evening sir!&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        speak(<span class="string">&quot;Good night sir&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">takeCmd</span>():</span>              <span class="comment"># get the commands from users</span></span><br><span class="line">    <span class="keyword">global</span> KEEPING_ORDER</span><br><span class="line">    r = sr.Recognizer()</span><br><span class="line">    <span class="keyword">with</span> sr.Microphone() <span class="keyword">as</span> source:</span><br><span class="line">        <span class="comment">#r.pause_threshold = 1</span></span><br><span class="line">        <span class="keyword">if</span> KEEPING_ORDER:</span><br><span class="line">            playsound(<span class="string">&quot;G:\\JARVIS demo\\jarvis\\jarvis\\Music\\tip1.mp3&quot;</span>)</span><br><span class="line"></span><br><span class="line">        r.adjust_for_ambient_noise(source)</span><br><span class="line">        audio = r.listen(source)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> KEEPING_ORDER:</span><br><span class="line">            playsound(<span class="string">&quot;G:\\JARVIS demo\\jarvis\\jarvis\\Music\\nono.mp3&quot;</span>)</span><br><span class="line">        command = r.recognize_google(audio, language = <span class="string">&quot;en&quot;</span>)</span><br><span class="line">        print(command)</span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line">        <span class="keyword">if</span> KEEPING_ORDER:</span><br><span class="line">            speak(askRepeat())</span><br><span class="line">        command = takeCmd()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> command</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wiki</span>(<span class="params">command</span>):</span>              <span class="comment"># searching information from wiki</span></span><br><span class="line">    text = wikipedia.summary(command)</span><br><span class="line">    print(text)</span><br><span class="line">    speak(text)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">askRepeat</span>():</span>                <span class="comment"># asking for repeating the commands</span></span><br><span class="line">    num = random.randint(<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Sorry?&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> num == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Pardon?&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> num == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;I beg your pardon, sir.&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Say it again?&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">openBrowser</span>():</span></span><br><span class="line">    speak(<span class="string">&#x27;Please waiting. the Google has just been opened&#x27;</span>)</span><br><span class="line">    url = <span class="string">&#x27;http://www.google.com/&#x27;</span></span><br><span class="line">    path = <span class="string">&quot;C:/Program Files (x86)/Google/Chrome/Application/chrome.exe %s&quot;</span></span><br><span class="line">    webbrowser.get(path).<span class="built_in">open</span>(url)</span><br><span class="line">    speak(<span class="string">&#x27;Done&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">searchingGoogle</span>():</span></span><br><span class="line">    speak(<span class="string">&quot;what\&#x27;s you wanna search sir?&quot;</span>)</span><br><span class="line">    target = takeCmd().lower()</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;searching&quot;</span> <span class="keyword">in</span> target <span class="keyword">or</span> <span class="string">&quot;stop&quot;</span> <span class="keyword">in</span> target:</span><br><span class="line">        openBrowser()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            speak(<span class="string">&quot;you wanna search: &quot;</span>+target+<span class="string">&quot;right?&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&quot;yes&quot;</span> <span class="keyword">in</span> takeCmd().lower():</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                target = takeCmd().lower()</span><br><span class="line"></span><br><span class="line">        path = <span class="string">&quot;C:/Program Files (x86)/Google/Chrome/Application/chrome.exe %s&quot;</span></span><br><span class="line">        url = <span class="string">&quot;http://google.com/?#q=&quot;</span></span><br><span class="line">        webbrowser.get(path).open_new(url + target)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">closeBrowser</span>():</span></span><br><span class="line">    os.system(<span class="string">&#x27;taskkill /F /IM chrome.exe&#x27;</span>)</span><br><span class="line">    speak(<span class="string">&#x27;The Google has just been closed, sir&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#----------------------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">analyzeCmd</span>(<span class="params">command</span>):</span></span><br><span class="line">    <span class="keyword">global</span> KEEPING_ORDER</span><br><span class="line">    command = command.lower()</span><br><span class="line">    print(command)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;open google&quot;</span> <span class="keyword">in</span> command:</span><br><span class="line">        speak(<span class="string">&quot;shall I help you to search something?&quot;</span>)</span><br><span class="line">        command = takeCmd().lower()</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;yes&quot;</span> <span class="keyword">in</span> command <span class="keyword">or</span> <span class="string">&quot;sure&quot;</span> <span class="keyword">in</span> command <span class="keyword">or</span> <span class="string">&quot;okay&quot;</span> <span class="keyword">in</span> command:</span><br><span class="line">            searchingGoogle()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            openBrowser()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="string">&quot;close google&quot;</span> <span class="keyword">in</span> command:</span><br><span class="line">        closeBrowser()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="string">&quot;time&quot;</span> <span class="keyword">in</span> command:</span><br><span class="line">        time()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="string">&quot;date&quot;</span> <span class="keyword">in</span> command:</span><br><span class="line">        date()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="string">&quot;your name&quot;</span> <span class="keyword">in</span> command:</span><br><span class="line">        speak(<span class="string">&quot;my name is Alpha&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="string">&quot;what is&quot;</span> <span class="keyword">in</span> command:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            wiki(command)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            speak(<span class="string">&quot;there\&#x27;s an exception with wiki, please try again&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="string">&quot;shut up&quot;</span> <span class="keyword">in</span> command <span class="keyword">or</span> <span class="string">&quot;be quiet&quot;</span> <span class="keyword">in</span> command:</span><br><span class="line">        playsound(<span class="string">&quot;G:\\JARVIS demo\\jarvis\\jarvis\\Music\\unhappy.mp3&quot;</span>)</span><br><span class="line">        speak(<span class="string">&quot;as you wish sir&quot;</span>)</span><br><span class="line">        KEEPING_ORDER = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="string">&quot;shut down&quot;</span> <span class="keyword">in</span> command:</span><br><span class="line">        speak(<span class="string">&quot;good bye sir&quot;</span>)</span><br><span class="line">        os._exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        chatData(command)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chatData</span>(<span class="params">command</span>):</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#trainer = ChatterBotCorpusTrainer(bot)</span></span><br><span class="line">    <span class="comment">#bot.set_trainer(ChatterBotCorpusTrainer)</span></span><br><span class="line">    <span class="comment">#trainer.train(&quot;chatterbot.corpus.english&quot;)</span></span><br><span class="line">    print(<span class="string">&#x27;Chatbot is ready&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    user_input = command</span><br><span class="line"></span><br><span class="line">    bot_response = bot.get_response(user_input)</span><br><span class="line"></span><br><span class="line">    speak(bot_response)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#----------------------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">major</span>():</span></span><br><span class="line">    <span class="keyword">global</span> KEEPING_ORDER</span><br><span class="line">    wishme()</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        Cmd = takeCmd()</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;Alpha&quot;</span> <span class="keyword">in</span> Cmd <span class="keyword">or</span> <span class="string">&quot;hello&quot;</span> <span class="keyword">in</span> Cmd:</span><br><span class="line">            speak(<span class="string">&quot;yes?&quot;</span>)</span><br><span class="line">            KEEPING_ORDER = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&quot;shut down&quot;</span> <span class="keyword">in</span> Cmd:</span><br><span class="line">            speak(<span class="string">&quot;good bye sir&quot;</span>)</span><br><span class="line">            os._exit(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">while</span> KEEPING_ORDER:</span><br><span class="line">            analyzeCmd(takeCmd())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">major()</span><br></pre></td></tr></table></figure>


    </p>
    <!-- Only display the Read More link if we are displaying an excerpt -->
    

  </div>

</div>



          <!--The body variable corresponds to the content rendered from the different page type templates (cf above).-->

      <div class="row">
          <nav class="blog-pagination">
  
  <a class="btn btn-outline-secondary disabled" href="/">Previous</a>
  
          
  <a class="btn btn-outline-secondary disabled" href="/">Previous</a>
  
</nav>

      </div>

    </div>

</main>

  <!-- Footer -->
  <footer class="text-white-50 bg-dark py-5">
  <div class="container">
    <p>Blog template built for <a class="text-white" target="_blank" rel="noopener" href="http://getbootstrap.com">Bootstrap</a> by <a class="text-white" target="_blank" rel="noopener" href="https://twitter.com/mdo">@mdo</a>.</p>
    <p>Adapted to Hexo by <a class="text-white" target="_blank" rel="noopener" href="http://www.domuki.top/">Domuki</a>.</p>
    <p><a href="/" type="button" class="btn btn-outline-light">Back to top</a></p>
  </div>
</footer>


  <!-- After footer scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>


<script src="/bootstrap/js/bootstrap.min.js"></script>


<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->

<script src="/js/ie10-viewport-bug-workaround.js"></script>


<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'klugjoTest';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>



</body>

</html>
